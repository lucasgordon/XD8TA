<div class="container bg-dark">

    <div class="mt-5">
        <%= link_to "Back", analytics_user_path(chat_id: @analytic_chat), class: "btn btn-outline-secondary rounded-0 mb-4" %>
        <h4 class="text-white mb-4 text-muted">@<%= @x_username %> posts</h4>
        <div class="table-responsive shadow-lg rounded" data-controller="sortable-table">
            <table class="table table-dark table-hover border border-muted" data-sortable-table-target="table">
                <thead class="thead-dark">
                    <tr>
                        <th scope="col" data-action="click->sortable-table#sortRowsByColumn">URL</th>
                        <th scope="col" data-action="click->sortable-table#sortRowsByColumn">Text</th>
                        <th scope="col" data-action="click->sortable-table#sortRowsByColumn">Retweet Count</th>
                        <th scope="col" data-action="click->sortable-table#sortRowsByColumn">Reply Count</th>
                        <th scope="col" data-action="click->sortable-table#sortRowsByColumn">Like Count</th>
                        <th scope="col" data-action="click->sortable-table#sortRowsByColumn">Quote Count</th>
                        <th scope="col" data-action="click->sortable-table#sortRowsByColumn">Bookmark Count</th>
                        <th scope="col" data-action="click->sortable-table#sortRowsByColumn">Impression Count</th>
                        <th scope="col" data-action="click->sortable-table#sortRowsByColumn">Post Created At</th>
                    </tr>
                </thead>
                <tbody>
                    <% @posts.each do |post| %>
                        <tr style="vertical-align: middle;">
                          <td>
                              <a href="<%= post.url %>" target="_blank" class="btn rounded-0" style="background-color: #262627; color: white;"><small>View Post</small></a>
                            </td>
                            <td><%= post.text %></td>
                            <td><%= number_with_delimiter(post.retweet_count) %></td>
                            <td><%= number_with_delimiter(post.reply_count) %></td>
                            <td><%= number_with_delimiter(post.like_count) %></td>
                            <td><%= number_with_delimiter(post.quote_count) %></td>
                            <td><%= number_with_delimiter(post.bookmark_count) %></td>
                            <td><%= number_with_delimiter(post.impression_count) %></td>
                            <td><span style="font-size: 10px;"><%= post.post_created_at.in_time_zone("Eastern Time (US & Canada)").strftime("%b %d, %Y %I:%M %p EST") %></span></td>                        </tr>
                    <% end %>
                </tbody>
            </table>
        </div>
        </div>
    </div>